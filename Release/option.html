<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title> 設定 - Google+ Extreme Button </title>
        <style type="text/css">
            h1 {
                font-size: 13px;
                margin: 0px;
                padding: 0px;
            }
            h2 {
                margin: 0 0 10px 0;
                padding: 2px 8px;
                border-width: 0 0 0 5px;
                border-color: #6D6D6D;
                border-style: solid;
                background: #CCCCCC;
                color: #494949;
                line-height: 140%;
                font-weight: bold;
                font-size: 13px;
                width: 400px;
            }
            body {
                background-color: rgb(237, 237, 237);
                margin: 0px;
                padding: 0px;
                font-size: 13px;
            }
            
            canvas{
                z-index: 100;
            }
            
            /* メニュー */
            #menu {
                position: absolute;
                left: 0px;
                top: 70px;
                font-size: 16px;
                z-index: 0;
            }
            #menu > div {
                padding: 10px;
                padding-left: 30px;
            }
            #contentbody {
                position: absolute;
                left: 130px;
                top: 70px;
            }

        </style>
        <script type="text/javascript">
            //サイズ取得
            function gws (_xory) {
                if (_xory == 0) {
                    return document.body.offsetWidth ();
                }
                else {
                    return document.body.offsetHeight ();
                }
            }

            function changewindow () {
                //ウィンドウサイズ変更イベントを送信
                var e = document.createEvent ("Event");
                e.initEvent ("resize", true, false);
                window.dispatchEvent (e);
            }

            //canvas描画
            function can () {
                var canvas = document.getElementsByTagName ("canvas");
                for (var i = 0; i < canvas.length; i++) {
                    var c = canvas [i];
                    var w = parseInt (c.getAttribute ("width"));
                    var h = parseInt (c.getAttribute ("height"));
                    var s = c.getAttribute ("start");
                    var e = c.getAttribute ("end");

                    var ctx = c.getContext ("2d");
                    ctx.beginPath ();
                    var grd = ctx.createLinearGradient (0, 0, 0, h);
                    grd.addColorStop (0, s);
                    grd.addColorStop (1, e);
                    ctx.fillStyle = grd;
                    ctx.fillRect (0, 0, w, h);
                    ctx.fill ();
                }
            }

            //ページ機能
            function PageManager () {
            };


            PageManager.prototype.body = function () {
                return document.getElementById ("contentbody");
            };

            //機能
            PageManager.prototype.func = function () {
                this.body ().innerHTML = "<h2>機能</h2>";
                changewindow ();
            }

            //ボタン
            PageManager.prototype.button = function () {
                this.body ().innerHTML = "<h2>ボタン</h2>";
                changewindow ();
            }

            //挨拶
            PageManager.prototype.aisatsu = function () {
                this.body ().innerHTML = "<h2>挨拶</h2>";
                changewindow ();
            }

            //初期化
            PageManager.prototype.init = function () {
                this.body ().innerHTML = "<h2>初期化</h2>";
                changewindow ();
            }

            //連絡先
            PageManager.prototype.contact = function () {
                this.body ().innerHTML = "<h2>連絡先</h2>";
                changewindow ();
            }

            //ページの読み込みが完了した
            window.addEventListener ("load", function () {

                //ページを読み込む
                var page = new PageManager ();

                changewindow ();

                //メニューにイベントを登録する
                var elm = document.getElementById ("menu").childNodes;
                for (var i = 0; i < elm.length; i++) {
                    elm [i].addEventListener ("click", function (_event) {


                        if (_event.target.innerHTML.indexOf ("機能") != -1) {
                            page.func ();
                        }
                        else if (_event.target.innerHTML.indexOf ("ボタン") != -1) {
                            page.button ();
                        }
                        else if (_event.target.innerHTML.indexOf ("挨拶") != -1) {
                            page.aisatsu ();
                        }
                        else if (_event.target.innerHTML.indexOf ("初期化") != -1) {
                            page.init ();
                        }
                        else if (_event.target.innerHTML.indexOf ("連絡先") != -1) {
                            page.contact ();
                        }
                        
                        var t = document.getElementById ("contentbody").firstChild.innerHTML;

                        var elm = document.getElementById ("menu").getElementsByTagName ("div");
                        for (var i = 0; i < elm.length; i++) {
                            if (elm [i].innerHTML.indexOf (t) == -1)
                                elm [i].style.background = "none";
                            else
                                elm [i].style.background = "#CCCCCC";
                        }
                        
                    }, false);

                    //メニューにマウスが重なった
                    elm [i].addEventListener ("mouseover", function (_event) {
                        var t = document.getElementById ("contentbody").firstChild.innerHTML;
                        if (_event.target.innerHTML.indexOf (t) == -1)
                            _event.target.style.background = "#e1e1e1";
                        _event.target.style.cursor = "hand";

                    }, false);

                    //メニューにマウスが外れた
                    elm [i].addEventListener ("mouseout", function (_event) {
                        var t = document.getElementById ("contentbody").firstChild.innerHTML;

                        var elm = document.getElementById ("menu").getElementsByTagName ("div");
                        for (var i = 0; i < elm.length; i++) {
                            if (elm [i].innerHTML.indexOf (t) == -1)
                                elm [i].style.background = "none";
                            else
                                elm [i].style.background = "#CCCCCC";
                        }

                    }, false);

                    //contentbodyに機能を読みこませる
                    try {
                        if (elm [i].innerHTML.indexOf ("機能") != -1) {
                            page.func ();
                            elm [i].style.background = "#CCCCCC";
                        }
                    }
                    catch (_error) {
                    }

                }

            }, false);

            //ウィンドウサイズが変更された
            window.addEventListener ('resize', function (_event) {

                var canvas = document.getElementsByTagName ("canvas");
                for (var i = 0; i < canvas.length; i++) {
                    canvas [i].width = document.body.offsetWidth;
                    can ();
                }

                document.getElementById ("under1").style.top = document.body.offsetHeight - 22;
                document.getElementById ("under2").style.top = document.body.offsetHeight - 20;

                //h2
                setTimeout (function () {
                    try {
                        var h2 = document.getElementsByTagName ("h2");
                        for (var i = 0; i < h2.length; i++) {
                            console.log (h2 [i]);
                            h2 [i].style.width = String (document.body.offsetWidth - 200);
                        };
                    }
                    catch (_error) {
                    }

                }, 0);

            }, false);

        </script>
    </head>
    <body>
        
        <div id="menu">
            <div>
                機能
            </div>
            <div>
                ボタン
            </div>
            <div>
                挨拶
            </div>
            <div>
                初期化
            </div>
            <div>
                連絡先
            </div>
        </div>
        
        <canvas width="0" height="2" start="#424242" end="#e4e4e4"></canvas>
        <canvas width="0" height="35" start="#e8e8e8" end="#ababab"></canvas>
        <canvas width="0" height="2" start="#ababab" end="#e8e8e8"></canvas>
        <canvas id="under1" width="0" height="2" start="#e8e8e8" end="#ababab" style="position:absolute;top:100px;"></canvas>
        <canvas id="under2" width="0" height="20" start="#e8e8e8" end="#ababab" style="position:absolute;top:100px;"></canvas>
        <div style="position:absolute;left:10px;top:10px;">
            <h1>設定 - Google+ Extreme Button</h1>
        </div>
        <div id="contentbody"></div>
    </body>
</html>